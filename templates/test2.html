<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8">
    <title>牛顿法</title>
  </head>
  <body>
    <script type="text/javascript">
      with (Math) {
        /* 这是第一题 exp()用于求e的多少次方 */
        var f = x => exp(-x) * (1 + x) / (1 + exp(-x));
        var x0 = 0.5;

        // /* 这是第二题 */
        // var f = x => (pow(x, 3) - x - 1) / (3 * pow(x, 2) - 1);
        // var x0 = 1;

        // /* 这是第三题 0.45 */
        // var f = x => pow(x - 1, 2) * (2 * x - 1) / (2 * (x - 1) * (2 * x - 1) + 2 * pow(x - 1, 2));
        // var x0 = 0.45;

        // /* 这是第三题 0.65 */
        // var f = x => pow(x - 1, 2) * (2 * x - 1) / (2 * (x - 1) * (2 * x - 1) + 2 * pow(x - 1, 2));
        // var x0 = 0.65;

        var i = 10;

        /* 定义函数 */
        var value = function (i) {
          var result;

          /* 如果i = 0结果是x0 */
          if (i == 0) {
            result = x0;
          }
          /* 否则 */
          else {
            /* 先获取x[i - 1]的结果 */
            var xi = value(i - 1);
            /* 然后再根据x[i - 1]计算出x[i]的结果 */
            result = f(xi);
          }

          return result;
        };

        /* 获取0 ~ 9的计算结果 */
        var xi = value(i);
        alert('x[' + i + '] = ' + xi);
      }
    </script>
  </body>
</html>